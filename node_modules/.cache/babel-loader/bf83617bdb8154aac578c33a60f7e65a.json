{"ast":null,"code":"import _slicedToArray from\"/Users/samratmallick/Downloads/project/demo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./App.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),lat=_useState2[0],setLat=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),long=_useState4[0],setLong=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isShownAddress=_useState8[0],setIsShownAddress=_useState8[1];var getLocation=function getLocation(){var geoOps={enableHighAccuracy:true,timeout:10000//10 seconds\n};navigator.geolocation.getCurrentPosition(successCallback,errorCallback,geoOps);};var successCallback=function successCallback(pos){var _lat=pos.coords.latitude;var _long=pos.coords.longitude;var options={method:'GET'};fetch(\"https://api.opencagedata.com/geocode/v1/json?key=bb08e60798df43eab80b248880e02f7b&q=\".concat(_lat,\"%2C\").concat(_long,\"&pretty=1\"),options).then(function(response){return response.json();}).then(function(response){var _response$results$;return setAddress(response===null||response===void 0?void 0:(_response$results$=response.results[0])===null||_response$results$===void 0?void 0:_response$results$.components);}).catch(function(err){return errorCallback(err);});setLat(_lat);setLong(_long);setIsShownAddress(true);};var errorCallback=function errorCallback(e){console.log(\"error\",e);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return isShownAddress?setIsShownAddress(false):getLocation();},children:[isShownAddress?\"Hide\":\"Show\",\" Location\"]}),isShownAddress&&/*#__PURE__*/_jsxs(_Fragment,{children:[address&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Country : \",address===null||address===void 0?void 0:address.country]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"State : \",address===null||address===void 0?void 0:address.state]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"District : \",address===null||address===void 0?void 0:address.state_district]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Address : \",address===null||address===void 0?void 0:address.road,\", \",address===null||address===void 0?void 0:address.hamlet,\", \",address===null||address===void 0?void 0:address.neighbourhood,\", \",address===null||address===void 0?void 0:address.county]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Pincode / ZipCode : \",address.postcode]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You are currnetly at Lat: \",lat,\" , Long: \",long]})]})]});}export default App;","map":{"version":3,"names":["React","useState","App","lat","setLat","long","setLong","address","setAddress","isShownAddress","setIsShownAddress","getLocation","geoOps","enableHighAccuracy","timeout","navigator","geolocation","getCurrentPosition","successCallback","errorCallback","pos","_lat","coords","latitude","_long","longitude","options","method","fetch","then","response","json","results","components","catch","err","e","console","log","country","state","state_district","road","hamlet","neighbourhood","county","postcode"],"sources":["/Users/samratmallick/Downloads/project/demo-app/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [lat, setLat] = useState(\"\");\n  const [long, setLong] = useState(\"\");\n  const [address, setAddress] = useState<any>(null);\n  const [isShownAddress, setIsShownAddress] = useState(false);\n  const getLocation = () => {\n    var geoOps = {\n      enableHighAccuracy: true,\n      timeout: 10000 //10 seconds\n    }\n    navigator.geolocation.getCurrentPosition(successCallback, errorCallback, geoOps);\n  }\n  const successCallback = (pos: any) => {\n    var _lat = pos.coords.latitude;\n    var _long = pos.coords.longitude;\n    const options = {\n      method: 'GET',\n    };\n    fetch(`https://api.opencagedata.com/geocode/v1/json?key=bb08e60798df43eab80b248880e02f7b&q=${_lat}%2C${_long}&pretty=1`, options)\n      .then(response => response.json())\n      .then(response => setAddress(response?.results[0]?.components))\n      .catch(err => errorCallback(err));\n    setLat(_lat);\n    setLong(_long);\n    setIsShownAddress(true);\n  }\n  const errorCallback = (e: any) => {\n    console.log(\"error\", e)\n  }\n  return (\n    <div className=\"App\">\n      <button onClick={() => isShownAddress ? setIsShownAddress(false) : getLocation()}>{isShownAddress ? \"Hide\" : \"Show\"} Location</button>\n      {\n        isShownAddress && <>\n          {\n            address && <>\n              <p>Country : {address?.country}</p>\n              <p>State : {address?.state}</p>\n              <p>District : {address?.state_district}</p>\n              <p>Address : {address?.road}, {address?.hamlet}, {address?.neighbourhood}, {address?.county}</p>\n              <p>Pincode / ZipCode : {address.postcode}</p>\n            </>\n          }\n          <p>You are currnetly at Lat: {lat} , Long: {long}</p>\n        </>\n      }\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"qIAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,WAAP,C,kGAEA,QAASC,IAAT,EAAe,CACb,cAAsBD,QAAQ,CAAC,EAAD,CAA9B,wCAAOE,GAAP,eAAYC,MAAZ,eACA,eAAwBH,QAAQ,CAAC,EAAD,CAAhC,yCAAOI,IAAP,eAAaC,OAAb,eACA,eAA8BL,QAAQ,CAAM,IAAN,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAA4CP,QAAQ,CAAC,KAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAIC,OAAM,CAAG,CACXC,kBAAkB,CAAE,IADT,CAEXC,OAAO,CAAE,KAAM;AAFJ,CAAb,CAIAC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCC,eAAzC,CAA0DC,aAA1D,CAAyEP,MAAzE,EACD,CAND,CAOA,GAAMM,gBAAe,CAAG,QAAlBA,gBAAkB,CAACE,GAAD,CAAc,CACpC,GAAIC,KAAI,CAAGD,GAAG,CAACE,MAAJ,CAAWC,QAAtB,CACA,GAAIC,MAAK,CAAGJ,GAAG,CAACE,MAAJ,CAAWG,SAAvB,CACA,GAAMC,QAAO,CAAG,CACdC,MAAM,CAAE,KADM,CAAhB,CAGAC,KAAK,+FAAwFP,IAAxF,eAAkGG,KAAlG,cAAoHE,OAApH,CAAL,CACGG,IADH,CACQ,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADhB,EAEGF,IAFH,CAEQ,SAAAC,QAAQ,+BAAItB,WAAU,CAACsB,QAAD,SAACA,QAAD,qCAACA,QAAQ,CAAEE,OAAV,CAAkB,CAAlB,CAAD,6CAAC,mBAAsBC,UAAvB,CAAd,EAFhB,EAGGC,KAHH,CAGS,SAAAC,GAAG,QAAIhB,cAAa,CAACgB,GAAD,CAAjB,EAHZ,EAIA/B,MAAM,CAACiB,IAAD,CAAN,CACAf,OAAO,CAACkB,KAAD,CAAP,CACAd,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAbD,CAcA,GAAMS,cAAa,CAAG,QAAhBA,cAAgB,CAACiB,CAAD,CAAY,CAChCC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,CAArB,EACD,CAFD,CAGA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,gBAAQ,OAAO,CAAE,yBAAM3B,eAAc,CAAGC,iBAAiB,CAAC,KAAD,CAApB,CAA8BC,WAAW,EAA7D,EAAjB,WAAmFF,cAAc,CAAG,MAAH,CAAY,MAA7G,eADF,CAGIA,cAAc,eAAI,2BAEdF,OAAO,eAAI,wCACT,kCAAcA,OAAd,SAAcA,OAAd,iBAAcA,OAAO,CAAEgC,OAAvB,GADS,cAET,gCAAYhC,OAAZ,SAAYA,OAAZ,iBAAYA,OAAO,CAAEiC,KAArB,GAFS,cAGT,mCAAejC,OAAf,SAAeA,OAAf,iBAAeA,OAAO,CAAEkC,cAAxB,GAHS,cAIT,kCAAclC,OAAd,SAAcA,OAAd,iBAAcA,OAAO,CAAEmC,IAAvB,MAA+BnC,OAA/B,SAA+BA,OAA/B,iBAA+BA,OAAO,CAAEoC,MAAxC,MAAkDpC,OAAlD,SAAkDA,OAAlD,iBAAkDA,OAAO,CAAEqC,aAA3D,MAA4ErC,OAA5E,SAA4EA,OAA5E,iBAA4EA,OAAO,CAAEsC,MAArF,GAJS,cAKT,4CAAwBtC,OAAO,CAACuC,QAAhC,GALS,GAFG,cAUhB,kDAA8B3C,GAA9B,aAA4CE,IAA5C,GAVgB,GAHtB,GADF,CAmBD,CAED,cAAeH,IAAf"},"metadata":{},"sourceType":"module"}